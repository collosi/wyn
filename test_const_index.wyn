def palette: [3]vec3 =
  [vec3 1.0f32 0.0f32 0.0f32,
   vec3 0.0f32 1.0f32 0.0f32,
   vec3 0.0f32 0.0f32 1.0f32]

#[vertex]
def vertex_main(#[builtin(vertex_index)] vertex_id: i32): #[builtin(position)] vec4 =
  if vertex_id == 0 then vec4 -0.5f32 -0.5f32 0.0f32 1.0f32
  else if vertex_id == 1 then vec4 0.5f32 -0.5f32 0.0f32 1.0f32
  else vec4 0.0f32 0.5f32 0.0f32 1.0f32

#[fragment]
def fragment_main(): #[location(0)] vec4 =
  let green = palette[1] in
  vec4 green.x green.y green.z 1.0f32
